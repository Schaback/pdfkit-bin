!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).svgToPdfkit=t()}}(function(){return function(){return function t(e,i,n){function s(a,r){if(!i[a]){if(!e[a]){var o="function"==typeof require&&require;if(!r&&o)return o(a,!0);if(h)return h(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var g=i[a]={exports:{}};e[a][0].call(g.exports,function(t){return s(e[a][1][t]||t)},g,g.exports,t,e,i,n)}return i[a].exports}for(var h="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}}()({1:[function(t,e,i){void 0!==e&&e&&void 0!==e.exports&&(e.exports=function(t,e,i,n,s){"use strict";const h={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgrey:[211,211,211],lightgreen:[144,238,144],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0]},a={black:[h.black,1],white:[h.white,1],transparent:[h.black,0]},r={quot:34,amp:38,lt:60,gt:62,apos:39,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,circ:710,tilde:732,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,permil:8240,lsaquo:8249,rsaquo:8250,euro:8364,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,fnof:402,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,bull:8226,hellip:8230,prime:8242,Prime:8243,oline:8254,frasl:8260,weierp:8472,image:8465,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},o={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},l={A3:!0,A4:!0,a3:!0,a4:!0},g={color:{inherit:!0,initial:void 0},visibility:{inherit:!0,initial:"visible",values:{hidden:"hidden",collapse:"hidden",visible:"visible"}},fill:{inherit:!0,initial:a.black},stroke:{inherit:!0,initial:"none"},"stop-color":{inherit:!1,initial:a.black},"fill-opacity":{inherit:!0,initial:1},"stroke-opacity":{inherit:!0,initial:1},"stop-opacity":{inherit:!1,initial:1},"fill-rule":{inherit:!0,initial:"nonzero",values:{nonzero:"nonzero",evenodd:"evenodd"}},"clip-rule":{inherit:!0,initial:"nonzero",values:{nonzero:"nonzero",evenodd:"evenodd"}},"stroke-width":{inherit:!0,initial:1},"stroke-dasharray":{inherit:!0,initial:[]},"stroke-dashoffset":{inherit:!0,initial:0},"stroke-miterlimit":{inherit:!0,initial:4},"stroke-linejoin":{inherit:!0,initial:"miter",values:{miter:"miter",round:"round",bevel:"bevel"}},"stroke-linecap":{inherit:!0,initial:"butt",values:{butt:"butt",round:"round",square:"square"}},"font-size":{inherit:!0,initial:16,values:{"xx-small":9,"x-small":10,small:13,medium:16,large:18,"x-large":24,"xx-large":32}},"font-family":{inherit:!0,initial:"sans-serif"},"font-weight":{inherit:!0,initial:"normal",values:{600:"bold",700:"bold",800:"bold",900:"bold",bold:"bold",bolder:"bold",500:"normal",400:"normal",300:"normal",200:"normal",100:"normal",normal:"normal",lighter:"normal"}},"font-style":{inherit:!0,initial:"normal",values:{italic:"italic",oblique:"italic",normal:"normal"}},"text-anchor":{inherit:!0,initial:"start",values:{start:"start",middle:"middle",end:"end"}},direction:{inherit:!0,initial:"ltr",values:{ltr:"ltr",rtl:"rtl"}},"dominant-baseline":{inherit:!0,initial:"baseline",values:{auto:"baseline",baseline:"baseline","before-edge":"before-edge","text-before-edge":"before-edge",middle:"middle",central:"central","after-edge":"after-edge","text-after-edge":"after-edge",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"mathematical"}},"alignment-baseline":{inherit:!1,initial:void 0,values:{auto:"baseline",baseline:"baseline","before-edge":"before-edge","text-before-edge":"before-edge",middle:"middle",central:"central","after-edge":"after-edge","text-after-edge":"after-edge",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"mathematical"}},"baseline-shift":{inherit:!0,initial:"baseline",values:{baseline:"baseline",sub:"sub",super:"super"}},"word-spacing":{inherit:!0,initial:0,values:{normal:0}},"letter-spacing":{inherit:!0,initial:0,values:{normal:0}},"text-decoration":{inherit:!1,initial:"none",values:{none:"none",underline:"underline",overline:"overline","line-through":"line-through"}},"xml:space":{inherit:!0,initial:"default",css:"white-space",values:{preserve:"preserve",default:"default",pre:"preserve","pre-line":"preserve","pre-wrap":"preserve",nowrap:"default"}},"marker-start":{inherit:!0,initial:"none"},"marker-mid":{inherit:!0,initial:"none"},"marker-end":{inherit:!0,initial:"none"},opacity:{inherit:!1,initial:1},transform:{inherit:!1,initial:[1,0,0,1,0,0]},display:{inherit:!1,initial:"inline",values:{none:"none",inline:"inline",block:"inline"}},"clip-path":{inherit:!1,initial:"none"},mask:{inherit:!1,initial:"none"},overflow:{inherit:!1,initial:"hidden",values:{hidden:"hidden",scroll:"hidden",visible:"visible"}}};function c(e){let i=new function(){};return i.name="G"+(t._groupCount=(t._groupCount||0)+1),i.resources=t.ref(),i.xobj=t.ref({Type:"XObject",Subtype:"Form",FormType:1,BBox:e,Group:{S:"Transparency",CS:"DeviceRGB",I:!0,K:!1},Resources:i.resources}),i.xobj.write(""),i.savedMatrix=t._ctm,i.savedPage=t.page,Nt.push(i),t._ctm=[1,0,0,1,0,0],t.page={width:t.page.width,height:t.page.height,write:function(t){i.xobj.write(t)},fonts:{},xobjects:{},ext_gstates:{},patterns:{}},i}function f(e){if(e!==Nt.pop())throw"Group not matching";Object.keys(t.page.fonts).length&&(e.resources.data.Font=t.page.fonts),Object.keys(t.page.xobjects).length&&(e.resources.data.XObject=t.page.xobjects),Object.keys(t.page.ext_gstates).length&&(e.resources.data.ExtGState=t.page.ext_gstates),Object.keys(t.page.patterns).length&&(e.resources.data.Pattern=t.page.patterns),e.resources.end(),e.xobj.end(),t._ctm=e.savedMatrix,t.page=e.savedPage}function u(e){t.page.xobjects[e.name]=e.xobj,t.addContent("/"+e.name+" Do")}function d(e,i){let n="M"+(t._maskCount=(t._maskCount||0)+1),s=t.ref({Type:"ExtGState",CA:1,ca:1,BM:"Normal",SMask:{S:"Luminosity",G:e.xobj,BC:i?[0,0,0]:[1,1,1]}});s.end(),t.page.ext_gstates[n]=s,t.addContent("/"+n+" gs")}function p(t,e,i,n){let s=new function(){};return s.group=t,s.dx=e,s.dy=i,s.matrix=n||[1,0,0,1,0,0],s}function m(e,i){let n="P"+(t._patternCount=(t._patternCount||0)+1),s=t.ref({Type:"Pattern",PatternType:1,PaintType:1,TilingType:2,BBox:[0,0,e.dx,e.dy],XStep:e.dx,YStep:e.dy,Matrix:k(t._ctm,e.matrix),Resources:{ProcSet:["PDF","Text","ImageB","ImageC","ImageI"],XObject:function(){let t={};return t[e.group.name]=e.group.xobj,t}()}});s.write("/"+e.group.name+" Do"),s.end(),t.page.patterns[n]=s,i?(t.addContent("/Pattern CS"),t.addContent("/"+n+" SCN")):(t.addContent("/Pattern cs"),t.addContent("/"+n+" scn"))}function w(e,i){let n=e&&i?2:i?1:e?0:3;t.addContent(n+" Tr")}function b(e){"PDFPattern"===e[0].constructor.name?(t.fillOpacity(e[1]),m(e[0],!1)):t.fillColor(e[0],e[1])}function y(e){"PDFPattern"===e[0].constructor.name?(t.strokeOpacity(e[1]),m(e[0],!0)):t.strokeColor(e[0],e[1])}function x(t){let e=function(t,e,i,n){this.error=n,this.nodeName=t,this.nodeValue=i,this.nodeType=e,this.attributes=Object.create(null),this.childNodes=[],this.parentNode=null,this.id="",this.textContent="",this.classList=[]};e.prototype.getAttribute=function(t){return null!=this.attributes[t]?this.attributes[t]:null},e.prototype.getElementById=function(t){let e=null;return function i(n){if(!e&&1===n.nodeType){n.id===t&&(e=n);for(let t=0;t<n.childNodes.length;t++)i(n.childNodes[t])}}(this),e},e.prototype.getElementsByTagName=function(t){let e=[];return function i(n){if(1===n.nodeType){n.nodeName===t&&e.push(n);for(let t=0;t<n.childNodes.length;t++)i(n.childNodes[t])}}(this),e};let i,n,s=new R(t.trim()),h=!1,a=function(){let t,i;if(t=s.match(/^<([\w:.-]+)\s*/,!0)){let n=new e(t[1],1,null,h);for(;t=s.match(/^([\w:.-]+)(?:\s*=\s*"([^"]*)"|\s*=\s*'([^']*)')?\s*/,!0);){let e=t[1],i=M(t[2]||t[3]||"");n.attributes[e]?(At('parseXml: duplicate attribute "'+e+'"'),h=!0):(n.attributes[e]=i,"id"===e&&(n.id=i),"class"===e&&(n.classList=i.split(" ")))}if(s.match(/^>/)){for(;i=a();)n.childNodes.push(i),i.parentNode=n,n.textContent+=3===i.nodeType||4===i.nodeType?i.nodeValue:i.textContent;return(t=s.match(/^<\/([\w:.-]+)\s*>/,!0))?t[1]===n.nodeName?n:(At('parseXml: tag not matching, opening "'+n.nodeName+'" & closing "'+t[1]+'"'),h=!0,n):(At('parseXml: tag not matching, opening "'+n.nodeName+'" & not closing'),h=!0,n)}if(s.match(/^\/>/))return n;At('parseXml: tag could not be parsed "'+n.nodeName+'"'),h=!0}else{if(t=s.match(/^<!--[\s\S]*?-->/))return new e(null,8,t,h);if(t=s.match(/^<\?[\s\S]*?\?>/))return new e(null,7,t,h);if(t=s.match(/^<!DOCTYPE\s*([\s\S]*?)>/))return new e(null,10,t,h);if(t=s.match(/^<!\[CDATA\[([\s\S]*?)\]\]>/,!0))return new e("#cdata-section",4,t[1],h);if(t=s.match(/^([^<]+)/,!0))return new e("#text",3,M(t[1]),h)}};for(;n=a();)1!==n.nodeType||i?(1===n.nodeType||3===n.nodeType&&""!==n.nodeValue.trim())&&At("parseXml: data after document end has been discarded"):i=n;return s.matchAll()&&At("parseXml: parsing error"),i}function M(t){return t.replace(/&(?:#([0-9]+)|#[xX]([0-9A-Fa-f]+)|([0-9A-Za-z]+));/g,function(t,e,i,n){return e?String.fromCharCode(parseInt(e,10)):i?String.fromCharCode(parseInt(i,16)):n&&r[n]?String.fromCharCode(r[n]):t})}function L(t){let e,i;return t=(t||"").trim(),(e=h[t])?i=[e.slice(),1]:(e=t.match(/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)$/i))?(e[1]=parseInt(e[1]),e[2]=parseInt(e[2]),e[3]=parseInt(e[3]),e[4]=parseFloat(e[4]),e[1]<256&&e[2]<256&&e[3]<256&&e[4]<=1&&(i=[e.slice(1,4),e[4]])):(e=t.match(/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)$/i))?(e[1]=parseInt(e[1]),e[2]=parseInt(e[2]),e[3]=parseInt(e[3]),e[1]<256&&e[2]<256&&e[3]<256&&(i=[e.slice(1,4),1])):(e=t.match(/^rgb\(\s*([0-9.]+)%\s*,\s*([0-9.]+)%\s*,\s*([0-9.]+)%\s*\)$/i))?(e[1]=2.55*parseFloat(e[1]),e[2]=2.55*parseFloat(e[2]),e[3]=2.55*parseFloat(e[3]),e[1]<256&&e[2]<256&&e[3]<256&&(i=[e.slice(1,4),1])):(e=t.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i))?i=[[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)],1]:(e=t.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i))&&(i=[[17*parseInt(e[1],16),17*parseInt(e[2],16),17*parseInt(e[3],16)],1]),St?St(i,t):i}function v(t,e,i){let n=t[0].slice(),s=t[1]*e;if(i){for(let e=0;e<t.length;e++)n[e]*=s;return[n,1]}return[n,s]}function k(){let t=arguments[0];for(let n=1;n<arguments.length;n++)e=t,i=arguments[n],t=[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]];var e,i;return t}function V(t,e){return[e[0]*t[0]+e[2]*t[1]+e[4],e[1]*t[0]+e[3]*t[1]+e[5]]}function P(){let e=t._ctm;for(let t=Nt.length-1;t>=0;t--)e=k(Nt[t].savedMatrix,e);return e}function _(){return(new K).M(0,0).L(t.page.width,0).L(t.page.width,t.page.height).L(0,t.page.height).transform(C(P())).getBoundingBox()}function C(t){let e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[3]*t[4])/e,(t[1]*t[4]-t[0]*t[5])/e]}function A(t){let e=T(t[0]),i=T(t[1]),n=T(t[2]),s=T(t[3]),h=T(t[4]),a=T(t[5]);if(H(e*s-i*n,0))return[e,i,n,s,h,a]}function B(t){let e=t[2]||0,i=t[1]||0,n=t[0]||0;if(S(e,0)&&S(i,0))return[];if(S(e,0))return[-n/i];{let t=i*i-4*e*n;return H(t,0)&&t>0?[(-i+Math.sqrt(t))/(2*e),(-i-Math.sqrt(t))/(2*e)]:S(t,0)?[-i/(2*e)]:[]}}function I(t,e){return(e[0]||0)+(e[1]||0)*t+(e[2]||0)*t*t+(e[3]||0)*t*t*t}function S(t,e){return Math.abs(t-e)<1e-10}function H(t,e){return Math.abs(t-e)>=1e-10}function T(t){return t>-1e21&&t<1e21?Math.round(1e6*t)/1e6:0}function N(t){let e,i=new R((t||"").trim()),n=[1,0,0,1,0,0];for(;e=i.match(/^([A-Za-z]+)[(]([^(]+)[)]/,!0);){let t,s=e[1],h=[],a=new R(e[2].trim());for(;t=a.matchNumber();)h.push(Number(t)),a.matchSeparator();if("matrix"===s&&6===h.length)n=k(n,[h[0],h[1],h[2],h[3],h[4],h[5]]);else if("translate"===s&&2===h.length)n=k(n,[1,0,0,1,h[0],h[1]]);else if("translate"===s&&1===h.length)n=k(n,[1,0,0,1,h[0],0]);else if("scale"===s&&2===h.length)n=k(n,[h[0],0,0,h[1],0,0]);else if("scale"===s&&1===h.length)n=k(n,[h[0],0,0,h[0],0,0]);else if("rotate"===s&&3===h.length){let t=h[0]*Math.PI/180;n=k(n,[1,0,0,1,h[1],h[2]],[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0],[1,0,0,1,-h[1],-h[2]])}else if("rotate"===s&&1===h.length){let t=h[0]*Math.PI/180;n=k(n,[Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0])}else if("skewX"===s&&1===h.length){let t=h[0]*Math.PI/180;n=k(n,[1,0,Math.tan(t),1,0,0])}else{if("skewY"!==s||1!==h.length)return;{let t=h[0]*Math.PI/180;n=k(n,[1,Math.tan(t),0,1,0,0])}}i.matchSeparator()}if(!i.matchAll())return n}function W(t,e,i,n,s,h){let a=(t||"").trim().match(/^(none)$|^x(Min|Mid|Max)Y(Min|Mid|Max)(?:\s+(meet|slice))?$/)||[],r=a[1]||a[4]||"meet",o=a[2]||"Mid",l=a[3]||"Mid",g=e/n,c=i/s,f={Min:0,Mid:.5,Max:1}[o]-(h||0),u={Min:0,Mid:.5,Max:1}[l]-(h||0);return"slice"===r?c=g=Math.max(g,c):"meet"===r&&(c=g=Math.min(g,c)),[g,0,0,c,f*(e-n*g),u*(i-s*c)]}function q(t){let e=Object.create(null);t=(t||"").trim().split(/;/);for(let i=0;i<t.length;i++){let n=(t[i].split(":")[0]||"").trim(),s=(t[i].split(":")[1]||"").trim();n&&(e[n]=s)}if(e.marker&&(e["marker-start"]||(e["marker-start"]=e.marker),e["marker-mid"]||(e["marker-mid"]=e.marker),e["marker-end"]||(e["marker-end"]=e.marker)),e.font){let t=null,i=null,n="normal",s="normal",h="normal",a=e.font.split(/\s+/);for(let e=0;e<a.length;e++)switch(a[e]){case"normal":break;case"italic":case"oblique":n=a[e];break;case"small-caps":h=a[e];break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":s=a[e];break;default:i?t?t+=" "+a[e]:t=a[e]:i=a[e].split("/")[0]}e["font-style"]||(e["font-style"]=n),e["font-variant"]||(e["font-variant"]=h),e["font-weight"]||(e["font-weight"]=s),e["font-size"]||(e["font-size"]=i),e["font-family"]||(e["font-family"]=t)}return e}function z(t){let e,i=t.split(/(?=[.#])/g),n=[],s=[],h=[];for(let t=0;t<i.length;t++)if(e=i[t].match(/^[#]([_A-Za-z0-9-]+)$/))n.push(e[1]);else if(e=i[t].match(/^[.]([_A-Za-z0-9-]+)$/))s.push(e[1]);else if(e=i[t].match(/^([_A-Za-z0-9-]+)$/))h.push(e[1]);else if("*"!==i[t])return;return{tags:h,ids:n,classes:s,specificity:1e4*n.length+100*s.length+h.length}}function U(t){let e,i=new R(t.trim()),n=[];for(;e=i.match(/^\s*([^\{\}]*?)\s*\{([^\{\}]*?)\}/,!0);){let t=e[1].split(/\s*,\s*/g),i=q(e[2]);for(let e=0;e<t.length;e++){let s=z(t[e]);s&&n.push({selector:s,css:i})}}return n}function O(t,e){if(1!==t.nodeType)return!1;for(let i=0;i<e.tags.length;i++)if(e.tags[i]!==t.nodeName)return!1;for(let i=0;i<e.ids.length;i++)if(e.ids[i]!==t.id)return!1;for(let i=0;i<e.classes.length;i++)if(-1===t.classList.indexOf(e.classes[i]))return!1;return!0}function D(t,e){return t.concat(e.slice(t.length))}function F(t,e){return Math.max(t.ascender,(t.bbox[3]||t.bbox.maxY)*(t.scale||1))*e/1e3}function G(t,e){return Math.min(t.descender,(t.bbox[1]||t.bbox.minY)*(t.scale||1))*e/1e3}function $(t,e,i){let n=t.encode(""+i),s=n[0],h=n[1],a=[];for(let n=0;n<s.length;n++){let r=t.unicode?t.unicode[parseInt(s[n],16)]:[i.charCodeAt(n)];a.push({glyph:s[n],unicode:r,width:h[n].advanceWidth*e/1e3,xOffset:h[n].xOffset*e/1e3,yOffset:h[n].yOffset*e/1e3,xAdvance:h[n].xAdvance*e/1e3,yAdvance:h[n].yAdvance*e/1e3})}return a}function Z(t,e){switch(t.nodeName){case"use":return new tt(t,e);case"symbol":return new et(t,e);case"g":return new it(t,e);case"a":return new nt(t,e);case"svg":return new st(t,e);case"image":return new ht(t,e);case"rect":return new lt(t,e);case"circle":return new gt(t,e);case"ellipse":return new ct(t,e);case"line":return new ft(t,e);case"polyline":return new ut(t,e);case"polygon":return new dt(t,e);case"path":return new pt(t,e);case"text":return new vt(t,e);case"tspan":return new Mt(t,e);case"textPath":return new Lt(t,e);case"#text":case"#cdata-section":return new xt(t,e);default:return new J(t,e)}}var R=function(t){this.match=function(e,i){let n=t.match(e);if(n&&0===n.index)return t=t.substring(n[0].length),i?n:n[0]},this.matchSeparator=function(){return this.match(/^(?:\s*,\s*|\s*|)/)},this.matchSpace=function(){return this.match(/^(?:\s*)/)},this.matchLengthUnit=function(){return this.match(/^(?:px|pt|cm|mm|in|pc|em|ex|%|)/)},this.matchNumber=function(){return this.match(/^(?:[-+]?(?:[0-9]+[.][0-9]+|[0-9]+[.]|[.][0-9]+|[0-9]+)(?:[eE][-+]?[0-9]+)?)/)},this.matchAll=function(){return this.match(/^[\s\S]+/)}},Q=function(t,e,i,n,s,h,a,r){let o=6*Tt,l=[t,-3*t+3*i,3*t-6*i+3*s,3*i-t-3*s+a],g=[e,-3*e+3*n,3*e-6*n+3*h,3*n-e-3*h+r],c=[-3*t+3*i,6*t-12*i+6*s,-3*t+9*i-9*s+3*a],f=[-3*e+3*n,6*e-12*n+6*h,-3*e+9*n-9*h+3*r],u=[0];for(let t=1;t<=o;t++){let e=(t-.5)/o,i=I(e,c)/o,n=I(e,f)/o,s=Math.sqrt(i*i+n*n);u[t]=u[t-1]+s}this.totalLength=u[o],this.startPoint=[t,e,S(t,i)&&S(e,n)?Math.atan2(h-n,s-i):Math.atan2(n-e,i-t)],this.endPoint=[a,r,S(s,a)&&S(h,r)?Math.atan2(h-n,s-i):Math.atan2(r-h,a-s)],this.getBoundingBox=function(){let t,e=I(0,l),i=I(0,g),n=I(1,l),s=I(1,g);e>n&&(t=n,n=e,e=t),i>s&&(t=s,s=i,i=t);let h=B(c);for(let t=0;t<h.length;t++)if(h[t]>=0&&h[t]<=1){let i=I(h[t],l);i<e&&(e=i),i>n&&(n=i)}let a=B(f);for(let t=0;t<a.length;t++)if(a[t]>=0&&a[t]<=1){let e=I(a[t],g);e<i&&(i=e),e>s&&(s=e)}return[e,i,n,s]},this.getPointAtLength=function(t){if(S(t,0))return this.startPoint;if(S(t,this.totalLength))return this.endPoint;if(!(t<0||t>this.totalLength))for(let e=1;e<=o;e++){let i=u[e-1],n=u[e];if(i<=t&&t<=n){let s=(e-(n-t)/(n-i))/o,h=I(s,l),a=I(s,g),r=I(s,c),u=I(s,f);return[h,a,Math.atan2(u,r)]}}}},Y=function(t,e,i,n){this.totalLength=Math.sqrt((i-t)*(i-t)+(n-e)*(n-e)),this.startPoint=[t,e,Math.atan2(n-e,i-t)],this.endPoint=[i,n,Math.atan2(n-e,i-t)],this.getBoundingBox=function(){return[Math.min(this.startPoint[0],this.endPoint[0]),Math.min(this.startPoint[1],this.endPoint[1]),Math.max(this.startPoint[0],this.endPoint[0]),Math.max(this.startPoint[1],this.endPoint[1])]},this.getPointAtLength=function(t){if(t>=0&&t<=this.totalLength){let e=t/this.totalLength||0;return[this.startPoint[0]+e*(this.endPoint[0]-this.startPoint[0]),this.startPoint[1]+e*(this.endPoint[1]-this.startPoint[1]),this.startPoint[2]]}}},K=function(){this.pathCommands=[],this.pathSegments=[],this.startPoint=null,this.endPoint=null,this.totalLength=0;let e,i,n,s=0,h=0,a=0,r=0;this.move=function(t,e){return s=a=t,h=r=e,null},this.line=function(t,e){let i=new Y(a,r,t,e);return a=t,r=e,i},this.curve=function(t,e,i,n,s,h){let o=new Q(a,r,t,e,i,n,s,h);return a=s,r=h,o},this.close=function(){let t=new Y(a,r,s,h);return a=s,r=h,t},this.addCommand=function(t){this.pathCommands.push(t);let e=this[t[0]].apply(this,t.slice(3));e&&(e.hasStart=t[1],e.hasEnd=t[2],this.startPoint=this.startPoint||e.startPoint,this.endPoint=e.endPoint,this.pathSegments.push(e),this.totalLength+=e.totalLength)},this.M=function(t,i){return this.addCommand(["move",!0,!0,t,i]),e="M",this},this.m=function(t,e){return this.M(a+t,r+e)},this.Z=this.z=function(){return this.addCommand(["close",!0,!0]),e="Z",this},this.L=function(t,i){return this.addCommand(["line",!0,!0,t,i]),e="L",this},this.l=function(t,e){return this.L(a+t,r+e)},this.H=function(t){return this.L(t,r)},this.h=function(t){return this.L(a+t,r)},this.V=function(t){return this.L(a,t)},this.v=function(t){return this.L(a,r+t)},this.C=function(t,s,h,a,r,o){return this.addCommand(["curve",!0,!0,t,s,h,a,r,o]),e="C",i=h,n=a,this},this.c=function(t,e,i,n,s,h){return this.C(a+t,r+e,a+i,r+n,a+s,r+h)},this.S=function(t,s,h,o){return this.C(a+("C"===e?a-i:0),r+("C"===e?r-n:0),t,s,h,o)},this.s=function(t,s,h,o){return this.C(a+("C"===e?a-i:0),r+("C"===e?r-n:0),a+t,r+s,a+h,r+o)},this.Q=function(t,s,h,o){let l=a+2/3*(t-a),g=r+2/3*(s-r),c=h+2/3*(t-h),f=o+2/3*(s-o);return this.addCommand(["curve",!0,!0,l,g,c,f,h,o]),e="Q",i=t,n=s,this},this.q=function(t,e,i,n){return this.Q(a+t,r+e,a+i,r+n)},this.T=function(t,s){return this.Q(a+("Q"===e?a-i:0),r+("Q"===e?r-n:0),t,s)},this.t=function(t,s){return this.Q(a+("Q"===e?a-i:0),r+("Q"===e?r-n:0),a+t,r+s)},this.A=function(t,i,n,s,h,o,l){if(S(t,0)||S(i,0))this.addCommand(["line",!0,!0,o,l]);else{n*=Math.PI/180,t=Math.abs(t),i=Math.abs(i),s=1*!!s,h=1*!!h;let e=Math.cos(n)*(a-o)/2+Math.sin(n)*(r-l)/2,g=Math.cos(n)*(r-l)/2-Math.sin(n)*(a-o)/2,c=e*e/(t*t)+g*g/(i*i);c>1&&(t*=Math.sqrt(c),i*=Math.sqrt(c));let f=Math.sqrt(Math.max(0,t*t*i*i-t*t*g*g-i*i*e*e)/(t*t*g*g+i*i*e*e)),u=(s===h?-1:1)*f*t*g/i,d=(s===h?1:-1)*f*i*e/t,p=Math.cos(n)*u-Math.sin(n)*d+(a+o)/2,m=Math.sin(n)*u+Math.cos(n)*d+(r+l)/2,w=Math.atan2((g-d)/i,(e-u)/t),b=Math.atan2((-g-d)/i,(-e-u)/t);0===h&&b-w>0?b-=2*Math.PI:1===h&&b-w<0&&(b+=2*Math.PI);let y=Math.ceil(Math.abs(b-w)/(Math.PI/Tt));for(let e=0;e<y;e++){let s=w+e*(b-w)/y,h=w+(e+1)*(b-w)/y,a=4/3*Math.tan((h-s)/4),r=p+Math.cos(n)*t*(Math.cos(s)-a*Math.sin(s))-Math.sin(n)*i*(Math.sin(s)+a*Math.cos(s)),o=m+Math.sin(n)*t*(Math.cos(s)-a*Math.sin(s))+Math.cos(n)*i*(Math.sin(s)+a*Math.cos(s)),l=p+Math.cos(n)*t*(Math.cos(h)+a*Math.sin(h))-Math.sin(n)*i*(Math.sin(h)-a*Math.cos(h)),g=m+Math.sin(n)*t*(Math.cos(h)+a*Math.sin(h))+Math.cos(n)*i*(Math.sin(h)-a*Math.cos(h)),c=p+Math.cos(n)*t*Math.cos(h)-Math.sin(n)*i*Math.sin(h),f=m+Math.sin(n)*t*Math.cos(h)+Math.cos(n)*i*Math.sin(h);this.addCommand(["curve",0===e,e===y-1,r,o,l,g,c,f])}}return e="A",this},this.a=function(t,e,i,n,s,h,o){return this.A(t,e,i,n,s,a+h,r+o)},this.path=function(t){let e,i,n,s=new R((t||"").trim());for(;e=s.match(/^[astvzqmhlcASTVZQMHLC]/);){s.matchSeparator();let t=[];for(;i=l[e+t.length]?s.match(/^[01]/):s.matchNumber();)s.matchSeparator(),t.length===o[e]&&(this[e].apply(this,t),t=[],"M"===e?e="L":"m"===e&&(e="l")),t.push(Number(i));if(t.length!==o[e])return void At("SvgPath: command "+e+" with "+t.length+" numbers");this[e].apply(this,t)}return(n=s.matchAll())&&At("SvgPath: unexpected string "+n),this},this.getBoundingBox=function(){let t=[1/0,1/0,-1/0,-1/0];for(let i=0;i<this.pathSegments.length;i++)(e=this.pathSegments[i].getBoundingBox())[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]);var e;return t[0]===1/0&&(t[0]=0),t[1]===1/0&&(t[1]=0),t[2]===-1/0&&(t[2]=0),t[3]===-1/0&&(t[3]=0),t},this.getPointAtLength=function(t){if(t>=0&&t<=this.totalLength){let e;for(let i=0;i<this.pathSegments.length;i++){if(e=this.pathSegments[i].getPointAtLength(t))return e;t-=this.pathSegments[i].totalLength}return this.endPoint}},this.transform=function(t){this.pathSegments=[],this.startPoint=null,this.endPoint=null,this.totalLength=0;for(let e=0;e<this.pathCommands.length;e++){let e=this.pathCommands.shift();for(let i=3;i<e.length;i+=2){let n=V([e[i],e[i+1]],t);e[i]=n[0],e[i+1]=n[1]}this.addCommand(e)}return this},this.mergeShape=function(t){for(let e=0;e<t.pathCommands.length;e++)this.addCommand(t.pathCommands[e].slice());return this},this.clone=function(){return(new K).mergeShape(this)},this.insertInDocument=function(){for(let e=0;e<this.pathCommands.length;e++){let i=this.pathCommands[e][0],n=this.pathCommands[e].slice(3);switch(i){case"move":t.moveTo(n[0],n[1]);break;case"line":t.lineTo(n[0],n[1]);break;case"curve":t.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5]);break;case"close":t.closePath()}}},this.getSubPaths=function(){let t=[],e=new K;for(let i=0;i<this.pathCommands.length;i++){let n=this.pathCommands[i];"move"===this.pathCommands[i][0]&&0!==i&&(t.push(e),e=new K),e.addCommand(n)}return t.push(e),t},this.getMarkers=function(){let t=[],e=this.getSubPaths();for(let i=0;i<e.length;i++){let n=e[i],s=[];for(let t=0;t<n.pathSegments.length;t++){let e=n.pathSegments[t];if(H(e.totalLength,0)||0===t||t===n.pathSegments.length-1){if(e.hasStart){let t=e.getPointAtLength(0),i=s.pop();i&&(t[2]=.5*(i[2]+t[2])),s.push(t)}if(e.hasEnd){let t=e.getPointAtLength(e.totalLength);s.push(t)}}}t=t.concat(s)}return t}},J=function(t,i){let n=Object.create(null),s=null;this.name=t.nodeName,this.isOuterElement=t===e||!t.parentNode,this.inherits=i||(this.isOuterElement?null:Z(t.parentNode,null)),this.stack=this.inherits?this.inherits.stack.concat(t):[t],this.style=q("function"==typeof t.getAttribute&&t.getAttribute("style")),this.css=Ct?getComputedStyle(t):function(t){let e=Object.create(null),i=Object.create(null);for(let n=0;n<zt.length;n++){let s=zt[n];if(O(t,s.selector))for(let t in s.css)i[t]>s.selector.specificity||(e[t]=s.css[t],i[t]=s.selector.specificity)}return e}(t),this.allowedChildren=[],this.attr=function(e){if("function"==typeof t.getAttribute)return t.getAttribute(e)},this.resolveUrl=function(t){let i=(t||"").match(/^\s*(?:url\("(.*)#(.*)"\)|url\('(.*)#(.*)'\)|url\((.*)#(.*)\)|(.*)#(.*))\s*$/)||[],n=i[1]||i[3]||i[5]||i[7],s=i[2]||i[4]||i[6]||i[8];if(s){if(!n){let t=e.getElementById(s);if(t)return-1===this.stack.indexOf(t)?t:void At('SVGtoPDF: loop of circular references for id "'+s+'"')}if(Ht){let t=Wt[n];if(!t){t=Ht(n),("object"!=typeof(h=t)||null===h||"number"!=typeof h.length)&&(t=[t]);for(let e=0;e<t.length;e++)"string"==typeof t[e]&&(t[e]=x(t[e]));Wt[n]=t}for(let e=0;e<t.length;e++){let i=t[e].getElementById(s);if(i)return-1===this.stack.indexOf(i)?i:void At('SVGtoPDF: loop of circular references for id "'+n+"#"+s+'"')}}}var h},this.computeUnits=function(t,e,i,n){return"%"===e?parseFloat(t)/100*(n||null!=i?i:this.getViewport()):"ex"===e||"em"===e?t*{em:1,ex:.5}[e]*(n?i:this.get("font-size")):t*{"":1,px:1,pt:96/72,cm:96/2.54,mm:96/25.4,in:96,pc:16}[e]},this.computeLength=function(t,e,i,n){let s,h,a=new R((t||"").trim());return"string"!=typeof(s=a.matchNumber())||"string"!=typeof(h=a.matchLengthUnit())||a.matchAll()?i:this.computeUnits(s,h,e,n)},this.computeLengthList=function(t,e,i){let n,s,h=new R((t||"").trim()),a=[];for(;"string"==typeof(n=h.matchNumber())&&"string"==typeof(s=h.matchLengthUnit());)a.push(this.computeUnits(n,s,e)),h.matchSeparator();if(!i||!h.matchAll())return a},this.getLength=function(t,e,i){return this.computeLength(this.attr(t),e,i)},this.getLengthList=function(t,e){return this.computeLengthList(this.attr(t),e)},this.getUrl=function(t){return this.resolveUrl(this.attr(t))},this.getNumberList=function(t){let e,i=new R((this.attr(t)||"").trim()),n=[];for(;e=i.matchNumber();)n.push(Number(e)),i.matchSeparator();return n.error=i.matchAll(),n},this.getViewbox=function(t,e){let i=this.getNumberList(t);return 4===i.length&&i[2]>=0&&i[3]>=0?i:e},this.getPercent=function(t,e){let i=this.attr(t),n=new R((i||"").trim()),s=n.matchNumber();return s?(n.match("%")&&(s*=.01),n.matchAll()?e:Math.max(0,Math.min(1,s))):e},this.chooseValue=function(t){for(let t=0;t<arguments.length;t++)if(null!=arguments[t]&&arguments[t]==arguments[t])return arguments[t];return arguments[arguments.length-1]},this.get=function(t){if(void 0!==n[t])return n[t];let e,i,s=g[t]||{};for(let h=0;h<3;h++){switch(h){case 0:"transform"!==t&&(e=this.css[s.css||t]);break;case 1:e=this.style[t];break;case 2:e=this.attr(t)}if("inherit"===e&&null!=(i=this.inherits?this.inherits.get(t):s.initial))return n[t]=i;if(null!=s.values&&null!=(i=s.values[e]))return n[t]=i;if(null!=e){let h;switch(t){case"font-size":i=this.computeLength(e,this.inherits?this.inherits.get(t):s.initial,void 0,!0);break;case"baseline-shift":i=this.computeLength(e,this.get("font-size"));break;case"font-family":i=e||void 0;break;case"opacity":case"stroke-opacity":case"fill-opacity":case"stop-opacity":h=parseFloat(e),isNaN(h)||(i=Math.max(0,Math.min(1,h)));break;case"transform":i=N(e);break;case"stroke-dasharray":if("none"===e)i=[];else if(h=this.computeLengthList(e,this.getViewport(),!0)){let t=0,e=!1;for(let i=0;i<h.length;i++)h[i]<0&&(e=!0),t+=h[i];e||(h.length%2==1&&(h=h.concat(h)),i=0===t?[]:h)}break;case"color":i="none"===e||"transparent"===e?"none":L(e);break;case"fill":case"stroke":if("none"===e||"transparent"===e)i="none";else if("currentColor"===e)i=this.get("color");else{if(h=L(e))return h;if(h=(e||"").split(" ")){let t=this.resolveUrl(h[0]),e=L(h[1]);i=null==t?e:"linearGradient"===t.nodeName||"radialGradient"===t.nodeName?new rt(t,null,e):"pattern"===t.nodeName?new at(t,null,e):e}}break;case"stop-color":i="none"===e||"transparent"===e?"none":"currentColor"===e?this.get("color"):L(e);break;case"marker-start":case"marker-mid":case"marker-end":case"clip-path":case"mask":i="none"===e?"none":this.resolveUrl(e);break;case"stroke-width":null!=(h=this.computeLength(e,this.getViewport()))&&h>=0&&(i=h);break;case"stroke-miterlimit":null!=(h=parseFloat(e))&&h>=1&&(i=h);break;case"word-spacing":case"letter-spacing":i=this.computeLength(e,this.getViewport());break;case"stroke-dashoffset":if(null!=(i=this.computeLength(e,this.getViewport()))&&i<0){let t=this.get("stroke-dasharray");for(let e=0;e<t.length;e++)i+=t[e]}}if(null!=i)return n[t]=i}}return n[t]=s.inherit&&this.inherits?this.inherits.get(t):s.initial},this.getChildren=function(){if(null!=s)return s;let e=[];for(let i=0;i<t.childNodes.length;i++){let n=t.childNodes[i];n.error||-1===this.allowedChildren.indexOf(n.nodeName)||e.push(Z(n,this))}return s=e},this.getParentVWidth=function(){return this.inherits?this.inherits.getVWidth():Vt},this.getParentVHeight=function(){return this.inherits?this.inherits.getVHeight():Pt},this.getParentViewport=function(){return Math.sqrt(.5*this.getParentVWidth()*this.getParentVWidth()+.5*this.getParentVHeight()*this.getParentVHeight())},this.getVWidth=function(){return this.getParentVWidth()},this.getVHeight=function(){return this.getParentVHeight()},this.getViewport=function(){return Math.sqrt(.5*this.getVWidth()*this.getVWidth()+.5*this.getVHeight()*this.getVHeight())},this.getBoundingBox=function(){return this.getBoundingShape().getBoundingBox()}},X=function(e,i){J.call(this,e,i),this.transform=function(){t.transform.apply(t,this.getTransformation())},this.clip=function(){if("none"!==this.get("clip-path"))return new wt(this.get("clip-path"),null).useMask(this.getBoundingBox()),!0},this.mask=function(){if("none"!==this.get("mask"))return new bt(this.get("mask"),null).useMask(this.getBoundingBox()),!0},this.getFill=function(t,e){let i=this.get("opacity"),n=this.get("fill"),s=this.get("fill-opacity");return t?a.white:"none"!==n&&i&&s?n instanceof rt||n instanceof at?n.getPaint(this.getBoundingBox(),s*i,t,e):v(n,s*i,e):void 0},this.getStroke=function(t,e){let i=this.get("opacity"),n=this.get("stroke"),s=this.get("stroke-opacity");if(!t&&!S(this.get("stroke-width"),0))return"none"!==n&&i&&s?n instanceof rt||n instanceof at?n.getPaint(this.getBoundingBox(),s*i,t,e):v(n,s*i,e):void 0}},E=function(t,e){X.call(this,t,e),this.allowedChildren=["use","g","a","svg","image","rect","circle","ellipse","line","polyline","polygon","path","text"],this.getBoundingShape=function(){let t=new K,e=this.getChildren();for(let i=0;i<e.length;i++)if("none"!==e[i].get("display")&&"function"==typeof e[i].getBoundingShape){let n=e[i].getBoundingShape().clone();"function"==typeof e[i].getTransformation&&n.transform(e[i].getTransformation()),t.mergeShape(n)}return t},this.drawChildren=function(t,e){let i=this.getChildren();for(let n=0;n<i.length;n++)"none"!==i[n].get("display")&&"function"==typeof i[n].drawInDocument&&i[n].drawInDocument(t,e)}},j=function(e,i){E.call(this,e,i),this.drawContent=function(e,i){this.transform();let n,s=this.clip(),h=this.mask();(this.get("opacity")<1||s||h)&&!e&&(n=c(_())),this.drawChildren(e,i),n&&(f(n),t.fillOpacity(this.get("opacity")),u(n))}},tt=function(e,i){j.call(this,e,i);let n=this.getLength("x",this.getVWidth(),0),s=this.getLength("y",this.getVHeight(),0),h=this.getUrl("href")||this.getUrl("xlink:href");h&&(h=Z(h,this)),this.getChildren=function(){return h?[h]:[]},this.drawInDocument=function(e,i){t.save(),this.drawContent(e,i),t.restore()},this.getTransformation=function(){return k(this.get("transform"),[1,0,0,1,n,s])}},et=function(e,i){j.call(this,e,i);let n=this.getLength("width",this.getParentVWidth(),this.getParentVWidth()),s=this.getLength("height",this.getParentVHeight(),this.getParentVHeight());i instanceof tt&&(n=i.getLength("width",i.getParentVWidth(),n),s=i.getLength("height",i.getParentVHeight(),s));let h=(this.attr("preserveAspectRatio")||"").trim(),a=this.getViewbox("viewBox",[0,0,n,s]);this.getVWidth=function(){return a[2]},this.getVHeight=function(){return a[3]},this.drawInDocument=function(e,i){t.save(),this.drawContent(e,i),t.restore()},this.getTransformation=function(){return k(W(h,n,s,a[2],a[3]),[1,0,0,1,-a[0],-a[1]])}},it=function(e,i){j.call(this,e,i),this.drawInDocument=function(e,i){t.save(),!this.link||e||i||this.addLink(),this.drawContent(e,i),t.restore()},this.getTransformation=function(){return this.get("transform")}},nt=function(e,i){i&&i.isText?(Mt.call(this,e,i),this.allowedChildren=["textPath","tspan","#text","#cdata-section","a"]):it.call(this,e,i),this.link=this.attr("href")||this.attr("xlink:href"),this.addLink=function(){if(this.link.match(/^(?:[a-z][a-z0-9+.-]*:|\/\/)?/i)&&this.getChildren().length){let e=this.getBoundingShape().transform(P()).getBoundingBox();!function(e,i,n,s,h){let a=t.ref({Type:"Annot",Subtype:"Link",Rect:[e,i,n,s],Border:[0,0,0],A:{S:"URI",URI:new String(h)}});a.end(),qt.push(a)}(e[0],e[1],e[2],e[3],this.link)}}},st=function(e,i){j.call(this,e,i);let n=this.getLength("width",this.getParentVWidth(),this.getParentVWidth()),s=this.getLength("height",this.getParentVHeight(),this.getParentVHeight()),h=this.getLength("x",this.getParentVWidth(),0),a=this.getLength("y",this.getParentVHeight(),0);i instanceof tt&&(n=i.getLength("width",i.getParentVWidth(),n),s=i.getLength("height",i.getParentVHeight(),s));let r=this.attr("preserveAspectRatio"),o=this.getViewbox("viewBox",[0,0,n,s]);this.isOuterElement&&_t&&(h=a=0,n=Vt,s=Pt,r=_t),this.getVWidth=function(){return o[2]},this.getVHeight=function(){return o[3]},this.drawInDocument=function(e,i){t.save(),"hidden"===this.get("overflow")&&((new K).M(h,a).L(h+n,a).L(h+n,a+s).L(h,a+s).Z().transform(this.get("transform")).insertInDocument(),t.clip()),this.drawContent(e,i),t.restore()},this.getTransformation=function(){return k(this.get("transform"),[1,0,0,1,h,a],W(r,n,s,o[2],o[3]),[1,0,0,1,-o[0],-o[1]])}},ht=function(e,i){X.call(this,e,i);let n,s=It(this.attr("href")||this.attr("xlink:href")||""),h=this.getLength("width",this.getVWidth(),0),r=this.getLength("height",this.getVHeight(),0),o=this.getLength("x",this.getVWidth(),0),l=this.getLength("y",this.getVHeight(),0);try{n=t.openImage(s)}catch(t){At('SVGElemImage: failed to open image "'+s+'" in PDFKit')}this.getTransformation=function(){return this.get("transform")},this.getBoundingShape=function(){return(new K).M(o,l).L(o+h,l).M(o+h,l+r).L(o,l+r)},this.drawInDocument=function(e,i){"hidden"!==this.get("visibility")&&n&&(t.save(),this.transform(),"hidden"===this.get("overflow")&&t.rect(o,l,h,r).clip(),this.clip(),this.mask(),t.translate(o,l),t.transform.apply(t,W(this.attr("preserveAspectRatio"),h,r,n?n.width:h,n?n.height:r)),e?(t.rect(0,0,n.width,n.height),b(a.white).fill()):(t.fillOpacity(this.get("opacity")),t.image(n,0,0)),t.restore())}},at=function(e,i,n){E.call(this,e,i),this.ref=function(){let t=this.getUrl("href")||this.getUrl("xlink:href");if(t&&t.nodeName===e.nodeName)return new at(t,i,n)}.call(this);let s=this.attr;this.attr=function(t){let e=s.call(this,t);return null!=e||"href"===t||"xlink:href"===t?e:this.ref?this.ref.attr(t):null};let h=this.getChildren;this.getChildren=function(){let t=h.call(this);return t.length>0?t:this.ref?this.ref.getChildren():[]},this.getPaint=function(e,i,s,h){let a="userSpaceOnUse"!==this.attr("patternUnits"),r="objectBoundingBox"===this.attr("patternContentUnits"),o=this.getLength("x",a?1:this.getParentVWidth(),0),l=this.getLength("y",a?1:this.getParentVHeight(),0),g=this.getLength("width",a?1:this.getParentVWidth(),0),u=this.getLength("height",a?1:this.getParentVHeight(),0);r&&!a?(o=(o-e[0])/(e[2]-e[0])||0,l=(l-e[1])/(e[3]-e[1])||0,g=g/(e[2]-e[0])||0,u=u/(e[3]-e[1])||0):!r&&a&&(o=e[0]+o*(e[2]-e[0]),l=e[1]+l*(e[3]-e[1]),g*=e[2]-e[0],u*=e[3]-e[1]);let d=this.getViewbox("viewBox",[0,0,g,u]),m=k(W((this.attr("preserveAspectRatio")||"").trim(),g,u,d[2],d[3],0),[1,0,0,1,-d[0],-d[1]]),w=N(this.attr("patternTransform"));if(r&&(w=k([e[2]-e[0],0,0,e[3]-e[1],e[0],e[1]],w)),(w=A(w=k(w,[1,0,0,1,o,l])))&&(m=A(m))&&(g=T(g))&&(u=T(u))){let e=c([0,0,g,u]);return t.transform.apply(t,m),this.drawChildren(s,h),f(e),[p(e,g,u,w),i]}return n?[n[0],n[1]*i]:void 0},this.getVWidth=function(){let t="userSpaceOnUse"!==this.attr("patternUnits"),e=this.getLength("width",t?1:this.getParentVWidth(),0);return this.getViewbox("viewBox",[0,0,e,0])[2]},this.getVHeight=function(){let t="userSpaceOnUse"!==this.attr("patternUnits"),e=this.getLength("height",t?1:this.getParentVHeight(),0);return this.getViewbox("viewBox",[0,0,0,e])[3]}},rt=function(e,i,n){J.call(this,e,i),this.allowedChildren=["stop"],this.ref=function(){let t=this.getUrl("href")||this.getUrl("xlink:href");if(t&&t.nodeName===e.nodeName)return new rt(t,i,n)}.call(this);let s=this.attr;this.attr=function(t){let e=s.call(this,t);return null!=e||"href"===t||"xlink:href"===t?e:this.ref?this.ref.attr(t):null};let h=this.getChildren;this.getChildren=function(){let t=h.call(this);return t.length>0?t:this.ref?this.ref.getChildren():[]},this.getPaint=function(e,i,s,h){let r=this.getChildren();if(0===r.length)return;if(1===r.length){let t=r[0],e=t.get("stop-color");if("none"===e)return;return v(e,t.get("stop-opacity")*i,h)}let o,l,g,c,f,u,d="userSpaceOnUse"!==this.attr("gradientUnits"),p=N(this.attr("gradientTransform")),m=this.attr("spreadMethod"),w=0,b=0,y=1;if(d&&(p=k([e[2]-e[0],0,0,e[3]-e[1],e[0],e[1]],p)),p=A(p)){if("linearGradient"===this.name?(l=this.getLength("x1",d?1:this.getVWidth(),0),g=this.getLength("x2",d?1:this.getVWidth(),d?1:this.getVWidth()),c=this.getLength("y1",d?1:this.getVHeight(),0),f=this.getLength("y2",d?1:this.getVHeight(),0)):(g=this.getLength("cx",d?1:this.getVWidth(),d?.5:.5*this.getVWidth()),f=this.getLength("cy",d?1:this.getVHeight(),d?.5:.5*this.getVHeight()),u=this.getLength("r",d?1:this.getViewport(),d?.5:.5*this.getViewport()),l=this.getLength("fx",d?1:this.getVWidth(),g),c=this.getLength("fy",d?1:this.getVHeight(),f),l=Math.min(Math.max(l,g-u+1e-6),g+u-1e-6),c=Math.min(Math.max(c,f-u+1e-6),f+u-1e-6)),"reflect"===m||"repeat"===m){let t=C(p),i=V([e[0],e[1]],t),n=V([e[2],e[1]],t),s=V([e[2],e[3]],t),h=V([e[0],e[3]],t);"linearGradient"===this.name?(w=Math.max((i[0]-g)*(g-l)+(i[1]-f)*(f-c),(n[0]-g)*(g-l)+(n[1]-f)*(f-c),(s[0]-g)*(g-l)+(s[1]-f)*(f-c),(h[0]-g)*(g-l)+(h[1]-f)*(f-c))/(Math.pow(g-l,2)+Math.pow(f-c,2)),b=Math.max((i[0]-l)*(l-g)+(i[1]-c)*(c-f),(n[0]-l)*(l-g)+(n[1]-c)*(c-f),(s[0]-l)*(l-g)+(s[1]-c)*(c-f),(h[0]-l)*(l-g)+(h[1]-c)*(c-f))/(Math.pow(g-l,2)+Math.pow(f-c,2))):w=Math.sqrt(Math.max(Math.pow(i[0]-g,2)+Math.pow(i[1]-f,2),Math.pow(n[0]-g,2)+Math.pow(n[1]-f,2),Math.pow(s[0]-g,2)+Math.pow(s[1]-f,2),Math.pow(h[0]-g,2)+Math.pow(h[1]-f,2)))/u-1,w=Math.ceil(w+.5),y=(b=Math.ceil(b+.5))+1+w}o="linearGradient"===this.name?t.linearGradient(l-b*(g-l),c-b*(f-c),g+w*(g-l),f+w*(f-c)):t.radialGradient(l,c,0,g,f,u+w*u);for(let t=0;t<y;t++){let e=0,n="reflect"!==m||(t-b)%2==0;for(let s=0;s<r.length;s++){let l=r[n?s:r.length-1-s],g=l.get("stop-color");"none"===g&&(g=a.transparent),g=v(g,l.get("stop-opacity")*i,h),e=Math.max(e,n?l.getPercent("offset",0):1-l.getPercent("offset",0)),0===s&&4===g[0].length&&(o._colorSpace="DeviceCMYK"),0===s&&e>0&&o.stop((t+0)/y,g[0],g[1]),o.stop((t+e)/(w+b+1),g[0],g[1]),s===r.length-1&&e<1&&o.stop((t+1)/y,g[0],g[1])}}return o.setTransform.apply(o,p),[o,1]}return n?[n[0],n[1]*i]:void 0}},ot=function(e,i){X.call(this,e,i),this.dashScale=1,this.getBoundingShape=function(){return this.shape},this.getTransformation=function(){return this.get("transform")},this.drawInDocument=function(e,i){if("hidden"!==this.get("visibility")&&this.shape){if(t.save(),this.transform(),this.clip(),e)this.shape.insertInDocument(),b(a.white),t.fill(this.get("clip-rule"));else{let n;this.mask()&&(n=c(_()));let s=this.shape.getSubPaths(),h=this.getFill(e,i),a=this.getStroke(e,i),r=this.get("stroke-width"),o=this.get("stroke-linecap");if(h||a){if(h&&b(h),a){for(let e=0;e<s.length;e++)if(S(s[e].totalLength,0)&&("square"===o||"round"===o)&&r>0){let i=s[e].startPoint[0],n=s[e].startPoint[1];b(a),"square"===o?t.rect(i-.5*r,n-.5*r,r,r):"round"===o&&t.circle(i,n,.5*r),t.fill()}let e=this.get("stroke-dasharray"),i=this.get("stroke-dashoffset");if(H(this.dashScale,1)){for(let t=0;t<e.length;t++)e[t]*=this.dashScale;i*=this.dashScale}y(a),t.lineWidth(r).miterLimit(this.get("stroke-miterlimit")).lineJoin(this.get("stroke-linejoin")).lineCap(o).dash(e,{phase:i})}for(let t=0;t<s.length;t++)s[t].totalLength>0&&s[t].insertInDocument();h&&a?t.fillAndStroke(this.get("fill-rule")):h?t.fill(this.get("fill-rule")):a&&t.stroke()}let l=this.get("marker-start"),g=this.get("marker-mid"),d=this.get("marker-end");if("none"!==l||"none"!==g||"none"!==d){let t=this.shape.getMarkers();if("none"!==l&&new mt(l,null).drawMarker(!1,i,t[0],r),"none"!==g)for(let e=1;e<t.length-1;e++)new mt(g,null).drawMarker(!1,i,t[e],r);"none"!==d&&new mt(d,null).drawMarker(!1,i,t[t.length-1],r)}n&&(f(n),u(n))}t.restore()}}},lt=function(t,e){ot.call(this,t,e);let i=this.getLength("x",this.getVWidth(),0),n=this.getLength("y",this.getVHeight(),0),s=this.getLength("width",this.getVWidth(),0),h=this.getLength("height",this.getVHeight(),0),a=this.getLength("rx",this.getVWidth()),r=this.getLength("ry",this.getVHeight());void 0===a&&void 0===r?a=r=0:void 0===a&&void 0!==r?a=r:void 0!==a&&void 0===r&&(r=a),s>0&&h>0?a&&r?(a=Math.min(a,.5*s),r=Math.min(r,.5*h),this.shape=(new K).M(i+a,n).L(i+s-a,n).A(a,r,0,0,1,i+s,n+r).L(i+s,n+h-r).A(a,r,0,0,1,i+s-a,n+h).L(i+a,n+h).A(a,r,0,0,1,i,n+h-r).L(i,n+r).A(a,r,0,0,1,i+a,n).Z()):this.shape=(new K).M(i,n).L(i+s,n).L(i+s,n+h).L(i,n+h).Z():this.shape=new K},gt=function(t,e){ot.call(this,t,e);let i=this.getLength("cx",this.getVWidth(),0),n=this.getLength("cy",this.getVHeight(),0),s=this.getLength("r",this.getViewport(),0);this.shape=s>0?(new K).M(i+s,n).A(s,s,0,0,1,i-s,n).A(s,s,0,0,1,i+s,n).Z():new K},ct=function(t,e){ot.call(this,t,e);let i=this.getLength("cx",this.getVWidth(),0),n=this.getLength("cy",this.getVHeight(),0),s=this.getLength("rx",this.getVWidth(),0),h=this.getLength("ry",this.getVHeight(),0);this.shape=s>0&&h>0?(new K).M(i+s,n).A(s,h,0,0,1,i-s,n).A(s,h,0,0,1,i+s,n).Z():new K},ft=function(t,e){ot.call(this,t,e);let i=this.getLength("x1",this.getVWidth(),0),n=this.getLength("y1",this.getVHeight(),0),s=this.getLength("x2",this.getVWidth(),0),h=this.getLength("y2",this.getVHeight(),0);this.shape=(new K).M(i,n).L(s,h)},ut=function(t,e){ot.call(this,t,e);let i=this.getNumberList("points");this.shape=new K;for(let t=0;t<i.length-1;t+=2)0===t?this.shape.M(i[t],i[t+1]):this.shape.L(i[t],i[t+1]);i.error&&At("SvgElemPolygon: unexpected string "+i.error),i.length%2==1&&At("SvgElemPolyline: uneven number of coordinates")},dt=function(t,e){ot.call(this,t,e);let i=this.getNumberList("points");this.shape=new K;for(let t=0;t<i.length-1;t+=2)0===t?this.shape.M(i[t],i[t+1]):this.shape.L(i[t],i[t+1]);this.shape.Z(),i.error&&At("SvgElemPolygon: unexpected string "+i.error),i.length%2==1&&At("SvgElemPolygon: uneven number of coordinates")},pt=function(t,e){ot.call(this,t,e),this.shape=(new K).path(this.attr("d"));let i=this.getLength("pathLength",this.getViewport());this.pathLength=i>0?i:void 0,this.dashScale=void 0!==this.pathLength?this.shape.totalLength/this.pathLength:1},mt=function(e,i){E.call(this,e,i);let n=this.getLength("markerWidth",this.getParentVWidth(),3),s=this.getLength("markerHeight",this.getParentVHeight(),3),h=this.getViewbox("viewBox",[0,0,n,s]);this.getVWidth=function(){return h[2]},this.getVHeight=function(){return h[3]},this.drawMarker=function(e,i,a,r){t.save();let o=this.attr("orient"),l=this.attr("markerUnits"),g="auto"===o?a[2]:(parseFloat(o)||0)*Math.PI/180,d="userSpaceOnUse"===l?1:r;t.transform(Math.cos(g)*d,Math.sin(g)*d,-Math.sin(g)*d,Math.cos(g)*d,a[0],a[1]);let p,m=this.getLength("refX",this.getVWidth(),0),w=this.getLength("refY",this.getVHeight(),0),b=W(this.attr("preserveAspectRatio"),n,s,h[2],h[3],.5);"hidden"===this.get("overflow")&&t.rect(b[0]*(h[0]+h[2]/2-m)-n/2,b[3]*(h[1]+h[3]/2-w)-s/2,n,s).clip(),t.transform.apply(t,b),t.translate(-m,-w),this.get("opacity")<1&&!e&&(p=c(_())),this.drawChildren(e,i),p&&(f(p),t.fillOpacity(this.get("opacity")),u(p)),t.restore()}},wt=function(e,i){E.call(this,e,i),this.useMask=function(e){let i=c(_());t.save(),"objectBoundingBox"===this.attr("clipPathUnits")&&t.transform(e[2]-e[0],0,0,e[3]-e[1],e[0],e[1]),this.clip(),this.drawChildren(!0,!1),t.restore(),f(i),d(i,!0)}},bt=function(e,i){E.call(this,e,i),this.useMask=function(e){let i,n,s,h,a=c(_());t.save(),"userSpaceOnUse"===this.attr("maskUnits")?(i=this.getLength("x",this.getVWidth(),-.1*(e[2]-e[0])+e[0]),n=this.getLength("y",this.getVHeight(),-.1*(e[3]-e[1])+e[1]),s=this.getLength("width",this.getVWidth(),1.2*(e[2]-e[0])),h=this.getLength("height",this.getVHeight(),1.2*(e[3]-e[1]))):(i=this.getLength("x",this.getVWidth(),-.1)*(e[2]-e[0])+e[0],n=this.getLength("y",this.getVHeight(),-.1)*(e[3]-e[1])+e[1],s=this.getLength("width",this.getVWidth(),1.2)*(e[2]-e[0]),h=this.getLength("height",this.getVHeight(),1.2)*(e[3]-e[1])),t.rect(i,n,s,h).clip(),"objectBoundingBox"===this.attr("maskContentUnits")&&t.transform(e[2]-e[0],0,0,e[3]-e[1],e[0],e[1]),this.clip(),this.drawChildren(!1,!0),t.restore(),f(a),d(a,!0)}},yt=function(e,i){X.call(this,e,i),this.allowedChildren=["tspan","#text","#cdata-section","a"],this.isText=!0,this.getBoundingShape=function(){let t=new K;for(let e=0;e<this._pos.length;e++){let i=this._pos[e];if(!i.hidden){let e=i.ascent*Math.sin(i.rotate),n=-i.ascent*Math.cos(i.rotate),s=i.descent*Math.sin(i.rotate),h=-i.descent*Math.cos(i.rotate),a=i.width*Math.cos(i.rotate),r=i.width*Math.sin(i.rotate);t.M(i.x+e,i.y+n).L(i.x+e+a,i.y+n+r).M(i.x+s+a,i.y+h+r).L(i.x+s,i.y+h)}}return t},this.drawTextInDocument=function(e,i){!this.link||e||i||this.addLink(),"underline"===this.get("text-decoration")&&this.decorate(.05*this._font.size,-.075*this._font.size,e,i),"overline"===this.get("text-decoration")&&this.decorate(.05*this._font.size,F(this._font.font,this._font.size)+.075*this._font.size,e,i);let n=this.getFill(e,i),s=this.getStroke(e,i),h=this.get("stroke-width");this._font.fauxBold&&(s?h+=.03*this._font.size:(s=n,h=.03*this._font.size));let a=this.getChildren();for(let m=0;m<a.length;m++){let x=a[m];switch(x.name){case"tspan":case"textPath":case"a":"none"!==x.get("display")&&x.drawTextInDocument(e,i);break;case"#text":case"#cdata-section":if("hidden"===this.get("visibility"))continue;if(n||s||e){n&&b(n),s&&h&&(y(s),t.lineWidth(h).miterLimit(this.get("stroke-miterlimit")).lineJoin(this.get("stroke-linejoin")).lineCap(this.get("stroke-linecap")).dash(this.get("stroke-dasharray"),{phase:this.get("stroke-dashoffset")})),d=this._font.font,p=this._font.size,t.page.fonts[d.id]||(t.page.fonts[d.id]=d.ref()),t.addContent("BT").addContent("/"+d.id+" "+p+" Tf"),w(!!n,!!s);for(let e=0,i=x._pos;e<i.length;e++)if(!i[e].hidden&&H(i[e].width,0)){let n=Math.cos(i[e].rotate),s=Math.sin(i[e].rotate),h=this._font.fauxItalic?-.25:0;o=n*i[e].scale,l=s*i[e].scale,g=n*h-s,c=s*h+n,f=i[e].x,u=i[e].y,t.addContent(T(o)+" "+T(l)+" "+T(-g)+" "+T(-c)+" "+T(f)+" "+T(u)+" Tm"),r=i[e].glyph,t.addContent("<"+r+"> Tj")}t.addContent("ET")}}}var r,o,l,g,c,f,u,d,p;"line-through"===this.get("text-decoration")&&this.decorate(.05*this._font.size,.5*(F(this._font.font,this._font.size)+G(this._font.font,this._font.size)),e,i)},this.decorate=function(e,i,n,s){let h=this.getFill(n,s),a=this.getStroke(n,s);h&&b(h),a&&(y(a),t.lineWidth(this.get("stroke-width")).miterLimit(this.get("stroke-miterlimit")).lineJoin(this.get("stroke-linejoin")).lineCap(this.get("stroke-linecap")).dash(this.get("stroke-dasharray"),{phase:this.get("stroke-dashoffset")}));for(let n=0,s=this._pos;n<s.length;n++)if(!s[n].hidden&&H(s[n].width,0)){let r=(i+e/2)*Math.sin(s[n].rotate),o=-(i+e/2)*Math.cos(s[n].rotate),l=(i-e/2)*Math.sin(s[n].rotate),g=-(i-e/2)*Math.cos(s[n].rotate),c=s[n].width*Math.cos(s[n].rotate),f=s[n].width*Math.sin(s[n].rotate);(new K).M(s[n].x+r,s[n].y+o).L(s[n].x+r+c,s[n].y+o+f).L(s[n].x+l+c,s[n].y+g+f).L(s[n].x+l,s[n].y+g).Z().insertInDocument(),h&&a?t.fillAndStroke():h?t.fill():a&&t.stroke()}}},xt=function(t,e){this.name=t.nodeName,this.textContent=t.nodeValue},Mt=function(t,e){yt.call(this,t,e)},Lt=function(t,e){let i;if(yt.call(this,t,e),(i=this.attr("path"))&&""!==i.trim()){let t=this.getLength("pathLength",this.getViewport());this.pathObject=(new K).path(i),this.pathLength=t>0?t:this.pathObject.totalLength,this.pathScale=this.pathObject.totalLength/this.pathLength}else if((i=this.getUrl("href")||this.getUrl("xlink:href"))&&"path"===i.nodeName){let t=new pt(i,this);this.pathObject=t.shape.clone().transform(t.get("transform")),this.pathLength=this.chooseValue(t.pathLength,this.pathObject.totalLength),this.pathScale=this.pathObject.totalLength/this.pathLength}},vt=function(e,i){yt.call(this,e,i),this.allowedChildren=["textPath","tspan","#text","#cdata-section","a"],function(i){let n,s,h="",a=e.textContent,r=[],o=[],l=0,g=0;function c(){if(o.length){let t=o[o.length-1],e=o[0],i=t.x+t.width-e.x,h={startltr:0,middleltr:.5,endltr:1,startrtl:1,middlertl:.5,endrtl:0}[n+s]*i||0;for(let t=0;t<o.length;t++)o[t].x-=h}o=[]}function f(t){let e=t.pathObject,i=t.pathLength,n=t.pathScale;if(e){let s=t.getLength("startOffset",i,0);for(let h=0;h<t._pos.length;h++){let a=s+t._pos[h].x+.5*t._pos[h].width;if(a>i||a<0)t._pos[h].hidden=!0;else{let i=e.getPointAtLength(a*n);H(n,1)&&(t._pos[h].scale*=n,t._pos[h].width*=n),t._pos[h].x=i[0]-.5*t._pos[h].width*Math.cos(i[2])-t._pos[h].y*Math.sin(i[2]),t._pos[h].y=i[1]-.5*t._pos[h].width*Math.sin(i[2])+t._pos[h].y*Math.cos(i[2]),t._pos[h].rotate=i[2]+t._pos[h].rotate,t._pos[h].continuous=!1}}}else for(let e=0;e<t._pos.length;e++)t._pos[e].hidden=!0}!function e(i,f){i._x=D(i.getLengthList("x",i.getVWidth()),f?f._x.slice(f._pos.length):[]),i._y=D(i.getLengthList("y",i.getVHeight()),f?f._y.slice(f._pos.length):[]),i._dx=D(i.getLengthList("dx",i.getVWidth()),f?f._dx.slice(f._pos.length):[]),i._dy=D(i.getLengthList("dy",i.getVHeight()),f?f._dy.slice(f._pos.length):[]),i._rot=D(i.getNumberList("rotate"),f?f._rot.slice(f._pos.length):[]),i._defRot=i.chooseValue(i._rot[i._rot.length-1],f&&f._defRot,0),"textPath"===i.name&&(i._y=[]);let u={fauxItalic:!1,fauxBold:!1},d=Bt(i.get("font-family"),"bold"===i.get("font-weight"),"italic"===i.get("font-style"),u);try{t.font(d)}catch(t){At('SVGElemText: failed to open font "'+d+'" in PDFKit')}i._pos=[],i._index=0,i._font={font:t._font,size:i.get("font-size"),fauxItalic:u.fauxItalic,fauxBold:u.fauxBold};let p=i.getLength("textLength",i.getVWidth(),void 0),m="spacingAndGlyphs"===i.attr("lengthAdjust"),w=i.get("word-spacing"),b=i.get("letter-spacing"),y=i.get("text-anchor"),x=i.get("direction"),M=function(t,e,i,n){let s,h;switch(i){case"middle":s=.5*function(t,e){return(t.xHeight||.5*(t.ascender-t.descender))*e/1e3}(t,e);break;case"central":s=.5*(G(t,e)+F(t,e));break;case"after-edge":case"text-after-edge":s=G(t,e);break;case"alphabetic":case"auto":case"baseline":s=0;break;case"mathematical":s=.5*F(t,e);break;case"hanging":s=.8*F(t,e);break;case"before-edge":case"text-before-edge":s=F(t,e);break;default:s=0}switch(n){case"baseline":h=0;break;case"super":h=.6*e;break;case"sub":h=-.6*e;break;default:h=n}return s-h}(i._font.font,i._font.size,i.get("alignment-baseline")||i.get("dominant-baseline"),i.get("baseline-shift"));"textPath"===i.name&&(c(),l=g=0);let L=i.getChildren();for(let t=0;t<L.length;t++){let r=L[t];switch(r.name){case"tspan":case"textPath":case"a":e(r,i);break;case"#text":case"#cdata-section":let t,f=r.textContent,u=f;r._font=i._font,r._pos=[],a=a.substring(f.length),"preserve"===i.get("xml:space")?u=u.replace(/[\s]/g," "):(u=u.replace(/[\s]+/g," "),h.match(/[\s]$|^$/)&&(u=u.replace(/^[\s]/,"")),a.match(/^[\s]*$/)&&(u=u.replace(/[\s]$/,""))),h+=f,t=0===w?[u]:u.split(/(\s)/);for(let e=0;e<t.length;e++){let h=$(i._font.font,i._font.size,t[e]);for(let t=0;t<h.length;t++){let a=i._index,f=i._x[a],u=i._y[a],d=i._dx[a],p=i._dy[a],m=i._rot[a],w=!(0===e&&0===t);void 0!==f&&(w=!1,c(),l=f),void 0!==u&&(w=!1,c(),g=u),void 0!==d&&(w=!1,l+=d),void 0!==p&&(w=!1,g+=p),void 0===m&&0===i._defRot||(w=!1);let L={glyph:h[t].glyph,rotate:Math.PI/180*i.chooseValue(m,i._defRot),x:l+h[t].xOffset,y:g+M+h[t].yOffset,width:h[t].width,ascent:F(i._font.font,i._font.size),descent:G(i._font.font,i._font.size),scale:1,hidden:!1,continuous:w};o.push(L),r._pos.push(L),i._pos.push(L),i._index+=h[t].unicode.length,1===o.length&&(n=y,s=x),l+=h[t].xAdvance+b,g+=h[t].yAdvance}" "===t[e]&&(l+=w)}break;default:a=a.substring(r.textContent.length)}}if(p&&i._pos.length&&function(t,e,i){let n=t[0],s=t[t.length-1],h=n.x,a=s.x+s.width;if(i){let i=e/(a-h);if(i>0&&i<1/0)for(let e=0;e<t.length;e++)t[e].x=h+i*(t[e].x-h),t[e].scale*=i,t[e].width*=i}else if(t.length>=2){let i=(e-(a-h))/(t.length-1);for(let e=0;e<t.length;e++)t[e].x+=e*i}l+=e-(a-h)}(i._pos,p,m),"textPath"!==i.name&&"text"!==i.name||c(),"textPath"===i.name){r.push(i);let t=i.pathObject;t&&(l=t.endPoint[0],g=t.endPoint[1])}f&&(f._pos=f._pos.concat(i._pos),f._index+=i._index)}(i,null);for(let t=0;t<r.length;t++)f(r[t])}(this),this.getTransformation=function(){return this.get("transform")},this.drawInDocument=function(e,i){let n;t.save(),this.transform(),this.clip(),this.mask()&&(n=c(_())),this.drawTextInDocument(e,i),n&&(f(n),u(n)),t.restore()}},kt=(s=s||{}).assumePt?1:.75,Vt=(s.width||t.page.width)/kt,Pt=(s.height||t.page.height)/kt,_t=s.preserveAspectRatio||null,Ct=s.useCSS&&"undefined"!=typeof SVGElement&&e instanceof SVGElement&&"function"==typeof getComputedStyle,At=s.warningCallback,Bt=s.fontCallback,It=s.imageCallback,St=s.colorCallback,Ht=s.documentCallback,Tt=Math.ceil(Math.max(1,s.precision))||3,Nt=[],Wt={},qt=[],zt=[];if("function"!=typeof At&&(At=function(t){void 0!==typeof console&&"function"==typeof console.warn&&console.warn(t)}),"function"!=typeof Bt&&(Bt=function(t,e,i,n){if(t.match(/(?:^|,)\s*serif\s*$/)){if(e&&i)return"Times-BoldItalic";if(e&&!i)return"Times-Bold";if(!e&&i)return"Times-Italic";if(!e&&!i)return"Times-Roman"}else if(t.match(/(?:^|,)\s*monospace\s*$/)){if(e&&i)return"Courier-BoldOblique";if(e&&!i)return"Courier-Bold";if(!e&&i)return"Courier-Oblique";if(!e&&!i)return"Courier"}else{if(t.match(/(?:^|,)\s*sans-serif\s*$/),e&&i)return"Helvetica-BoldOblique";if(e&&!i)return"Helvetica-Bold";if(!e&&i)return"Helvetica-Oblique";if(!e&&!i)return"Helvetica"}}),"function"!=typeof It&&(It=function(t){return t.replace(/\s+/g,"")}),"function"!=typeof St)St=null;else for(let t in a){let e=St(a[t]);a[t][0]=e[0],a[t][1]=e[1]}if("function"!=typeof Ht&&(Ht=null),"string"==typeof e&&(e=x(e)),e){let h=e.getElementsByTagName("style");for(let t=0;t<h.length;t++)zt=zt.concat(U(h[t].textContent));let a=Z(e,null);if("function"==typeof a.drawInDocument){s.useCSS&&!Ct&&At("SVGtoPDF: useCSS option can only be used for SVG *elements* in compatible browsers"),t.save().translate(i||0,n||0).scale(kt),a.drawInDocument();for(let e=0;e<qt.length;e++)t.page.annotations.push(qt[e]);t.restore()}else At("SVGtoPDF: this element can't be rendered directly: "+e.nodeName)}else At("SVGtoPDF: the input does not look like a valid SVG")})},{}]},{},[1])(1)});
